/* CYBERPUNK APP LAYOUT */

body {
  margin: 0;
  overflow: hidden;
  /* Prevent scrolling on the main body */
  background: radial-gradient(circle at center, var(--color-bg-medium) 0%, var(--color-bg-dark) 100%);
}

.app {
  width: 100vw;
  height: 100vh;
  height: 100dvh;
  /* Mobile viewport fix */
  overflow: hidden;
  position: relative;
  color: var(--color-text-primary);
}

/* Main Grid Layout */
.cyber-interface {
  display: grid;
  width: 100%;
  height: 100%;
  grid-template-columns: 1fr;
  grid-template-rows: 1fr auto;
  /* Changed from 60% 40% to fit content */
  grid-template-areas:
    "dice"
    "controls";
  background-image:
    linear-gradient(rgba(0, 243, 255, 0.03) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0, 243, 255, 0.03) 1px, transparent 1px);
  background-size: 30px 30px;
  position: relative;
  overflow: hidden;
  /* Ensure no scroll on container */
}

/* decorative noise/scanlines overlay */
.cyber-interface::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(to bottom,
      rgba(255, 255, 255, 0),
      rgba(255, 255, 255, 0) 50%,
      rgba(0, 0, 0, 0.1) 50%,
      rgba(0, 0, 0, 0.1));
  background-size: 100% 4px;
  pointer-events: none;
  z-index: 999;
  opacity: 0.3;
}

/* DICE DISPLAY AREA */
.dice-display {
  grid-area: dice;
  position: relative;
  border-bottom: 2px solid var(--color-primary);
  box-shadow: var(--shadow-glow-md);
  background: radial-gradient(circle at center, rgba(0, 243, 255, 0.05) 0%, transparent 70%);
  overflow: hidden;
  min-height: 0;
  /* Allow shrinking if needed */
}

.app-header {
  position: absolute;
  top: var(--space-md);
  left: var(--space-md);
  /* Align to left */
  right: auto;
  width: auto;
  /* Auto width */
  text-align: left;
  z-index: 10;
  pointer-events: none;
}

/* Version styles removed */

.glitch-title {
  font-size: var(--font-size-3xl);
  margin: 0;
  color: var(--color-primary);
  text-shadow: 0 0 10px var(--color-primary);
  background: rgba(5, 5, 16, 0.7);
  padding: var(--space-xs) var(--space-lg);
  display: inline-block;
  border: 1px solid var(--color-primary);
  backdrop-filter: blur(4px);
  clip-path: polygon(10px 0, 100% 0, 100% calc(100% - 10px), calc(100% - 10px) 100%, 0 100%, 0 10px);
}

/* CONTROL PANEL SIDEBAR/BOTTOM SHEET */
.control-panel {
  grid-area: controls;
  background: var(--color-bg-surface);
  border-top: 1px solid var(--color-primary-dark);
  padding: var(--space-md);
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
  /* overflow-y: auto; REMOVED to prevent scroll behavior */
  overflow: hidden;
  /* Force no scroll */
  position: relative;
  z-index: 20;
  backdrop-filter: blur(10px);
  box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.5);
  max-height: 50dvh;
  /* Safety cap to ensure dice area stays visible */
}

/* Webkit scrollbar hidden */
.control-panel::-webkit-scrollbar {
  display: none;
}

/* DESKTOP LAYOUT overrides */
@media (min-width: 1024px) {
  .cyber-interface {
    grid-template-columns: 1fr 400px;
    grid-template-rows: 1fr;
    grid-template-areas: "dice controls";
  }

  .dice-display {
    border-bottom: none;
    border-right: 2px solid var(--color-primary);
  }

  .control-panel {
    border-top: none;
    border-left: 1px solid var(--color-primary-dark);
  }
}

/* Utility classes */
/* Utility classes */
@media (max-width: 480px) {
  .hidden-sm {
    display: none !important;
  }

  .glitch-title {
    font-size: var(--font-size-xl);
    margin-top: var(--space-xs);
    white-space: nowrap;
    clip-path: none;
    /* Remove clip path on mobile for simpler look if needed, or keep */
    border: none;
    /* Simplify mobile look or keep - let's keep it minimal */
    background: transparent;
    padding: 0;
    text-shadow: 0 0 5px var(--color-primary);
  }
}

@media (min-width: 481px) {
  .hidden-md-up {
    display: none !important;
  }
}

/* Utility for falling dice hook */
.falling-dice {
  position: fixed;
  z-index: 1 !important;
  /* Background layer */
  pointer-events: none;
  text-shadow: 0 0 5px var(--color-primary), 0 0 10px var(--color-secondary);
  animation: fall linear infinite;
  /* Animation name matches keyframes in animations.css */
  font-family: var(--font-family-mono);
  /* Ensure consistent font */
}